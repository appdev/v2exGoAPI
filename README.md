# v2exGoAPI
ä½¿ç”¨Goè¯­è¨€é€šè¿‡çˆ¬è™«æ–¹å¼å®ç°çš„V2exçš„API

V2exä½œä¸ºå›½å†…ï¼ˆä¸­å›½ï¼‰ç¨‹åºå‘˜çš„èšé›†åœ°ä¹‹ä¸€å¹¿ä¸ºäººçŸ¥ï¼Œåˆšå¥½åœ¨å­¦ä¹ Flutterï¼Œæ‰€ä»¥æ‰“ç®—å†™ä¸ªFlutterçš„V2å®¢æˆ·ç«¯ç»ƒæ‰‹ï¼Œç„¶åå‘ç°V2è‡ªèº«æä¾›çš„å®¢æˆ·ç«¯å¾ˆå°‘ï¼ŒåŠŸèƒ½ä¸å…¨ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ä¸ªé¡¹ç›®ï¼

> å…¶å® go ä¹Ÿæ˜¯åˆšå­¦ä¸åˆ°åŠä¸ªæœˆï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿç®—æ˜¯ç»ƒæ‰‹ã€‚ä»£ç ä¸Šå¦‚æœæœ‰é—®é¢˜ï¼Œè¿˜å¸Œæœ›é«˜æ‰‹æŒ‡ç‚¹ï¼ğŸ™

ç›®å‰å®ç°çš„åŠŸèƒ½:
- é¦–é¡µå‡ ä¸ªtabçš„æ•°æ®(å§‘ä¸”è¿™ä¹ˆå«å§ğŸ¤£)
- å¸–å­å†…å®¹ã€å¸–å­å›å¤
- æ‰€æœ‰èŠ‚ç‚¹
- èŠ‚ç‚¹è¯¦æƒ…
- ç”¨æˆ·è¯¦æƒ…
- ç”¨æˆ·å‘å¸ƒçš„ä¸»é¢˜
- ç”¨æˆ·çš„å›å¤
> å¦‚éç‰¹æ®Šè¯´æ˜ï¼Œæ‰€æœ‰è¯·æ±‚æ–¹å¼å‡ä¸ºGET


### é¦–é¡µTab
è¯·æ±‚ï¼š
> /  

å‚æ•°ï¼š
> tab

ä¾‹å­ï¼š
> /?tab=hot è¯·æ±‚æœ€çƒ­  
> /?tab=qna è¯·æ±‚é—®ä¸ç­”

ç»“æœ:
```json
{
    "code": 200,
    "data": [
        {
            "avatar": "//cdn.v2ex.com/avatar/fb2e/6365/24324_normal.png?m=1553556157",
            "title": "åœ¨ V ç«™ä¼—ç­¹ä¸€æ¬¾æ­£åœ¨å¼€å‘çš„ SSH å®¢æˆ·ç«¯ï¼š Termix",
            "id": "549770",
            "node": "åˆ†äº«åˆ›é€ ",
            "nodeId": "create",
            "userName": "plqws",
            "replyCount": 395,
            "replyName": "liyangyijie",
            "replyTime": "å‡ ç§’å‰"
        }
            ],
    "msg": ""
}
```

è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼ŒVç«™é¦–é¡µæœ‰ä¸ªæ ‡ç­¾ **å…¨éƒ¨** è¿™é‡Œçš„å…¨éƒ¨å¹¶ä¸æ˜¯çœŸçš„å…¨éƒ¨ï¼Œå¯ä»¥è‡ªå·±æ“ä½œä¸€ä¸‹å°±èƒ½æ˜ç™½åŒºåˆ«ã€‚
æƒ³è¦è·å–å…¨éƒ¨å¸–å­ `/?tab=recent&page=1`å³å¯(å¯èƒ½éœ€è¦ç™»é™†åçš„cookie)

### å¸–å­å†…å®¹

è¯·æ±‚ï¼š
> /detail  

å‚æ•°ï¼š
> id

ä¾‹å­ï¼š
> /detail?id=549885   


ç»“æœ:
```json
{
    "code": 200,
    "data": {
        "avatar": "//cdn.v2ex.com/avatar/0c7b/7138/299623_large.png?m=1552894684",
        "title": "[æ·±åœ³] 7 å¤©æ±‚èŒæ„Ÿå—",
        "userName": "duzhihao",
        "SendTime": "Â·22å°æ—¶47åˆ†é’Ÿå‰Â·4669æ¬¡ç‚¹å‡»",
        "node": "æ·±åœ³",
        "nodeId": "shenzhen",
        "Content": "<p>ä¸Šå‘¨å››æ¥åˆ°æ·±åœ³...ç°åœ¨æ‰¾å·¥ä½œç¡®å®æœ‰ç‚¹å›°éš¾ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯æœ‰é™çš„äººæ¥è¯´ï¼Œå¤§å®¶å¹³æ—¶è¿˜æ˜¯åŠªåŠ›å­¦ä¹ å•Šã€‚æ¥ä¸‹æ¥æˆ‘ä¼šå»æ­å·ç¢°ç¢°è¿æ°”ï¼Œå…ˆç¥è‡ªå·±å¥½è¿ã€‚</p>\n",
        "ContentSub": [ //è¿™é‡Œæ˜¯é™„è¨€
            {
                "Content": "è°¢è°¢å¤§å®¶çš„å›å¸–ï¼Œæˆ‘åœ¨ç»™è‡ªå·±ä¸€å‘¨æ—¶é—´å§ã€‚\næˆ‘çš„ç†æƒ³å…¬å¸ï¼š\n\næœ‰ä¸€ä¸ªç¨³å®šçš„äº§å“é©±åŠ¨ã€‚\nç ”å‘å›¢é˜Ÿæœ€å¥½20äººä»¥ä¸Šï¼Œå‰ç«¯æœ€å¥½5ä¸ªä»¥ä¸Šã€‚\nç ”å‘å›¢é˜Ÿåˆ†é…åˆç†ï¼Œä¸èƒ½æ²¡æœ‰äº§å“ã€æµ‹è¯•ã€‚\néå•ä¼‘ã€‚\n\nå¸Œæœ›æˆ‘èƒ½æ‰¾åˆ°è¿™æ ·çš„å…¬å¸ï¼Œå¥½è¿å§ï¼\n",
                "SendTime": "18 å°æ—¶ 0 åˆ†é’Ÿå‰"
            }
        ]
    },
    "msg": ""
}
```
å¸–å­å†…å®¹è¿”å›çš„æ˜¯ å¸¦æœ‰HTMLæ ‡ç­¾çš„æ–‡æœ¬(å› ä¸ºå¸–å­æœ‰æ ¼å¼)ï¼Œæ–¹ä¾¿åœ¨å„ä¸ªå¹³å°å±•ç¤ºã€‚ContentSubæ˜¯å¸–å­çš„é™„è¨€ï¼Œæ²¡æœ‰åˆ™ä¸ºnull

### å¸–å­å›å¤


è¯·æ±‚ï¼š
> /reply  

å‚æ•°ï¼š
> id
> page   åˆ†é¡µ é»˜è®¤ä¸º1

ä¾‹å­ï¼š
> reply?id=549885&page=1


ç»“æœ:
```json
{
    "code": 200,
    "data": [
        {
            "avatar": "//cdn.v2ex.com/avatar/0c7b/7138/299623_normal.png?m=1552894684",
            "userName": "duzhihao",
            "SendTime": "22å°æ—¶40åˆ†é’Ÿå‰",
            "Content": "@hahasong ä¸»è¦ä½åœ¨åˆ«äººå®¿èˆï¼Œä¸å¤ªå¥½æ„æ€ï¼Œ7 å¤©ä¹ŸåŸºæœ¬æ‘¸æ¸…è¿™é‡Œçš„ç¯å¢ƒäº†ã€‚å¾ˆéš¾æœ‰è¿æ°”ç ¸åˆ°å¤´ä¸Šäº†...",
            "Thank": "",
            "ReplyAt": [
                {
                    "userName": "hahasong"
                }
            ]
        }
    ],
    "msg": ""
}
```
è¿™é‡Œå•ç‹¬å§ è¢«@ çš„ç”¨æˆ·æå–å‡ºæ¥æ”¾åœ¨ReplyAtæ•°ç»„ä¸­ï¼


### æ‰€æœ‰èŠ‚ç‚¹


è¯·æ±‚ï¼š
> /node  


ç»“æœ:
```json
{
    "code": 200,
    "data": [
        {
            "Title": "æ··æ²Œæµ·",
            "ChildNode": [
                {
                    "Title": "åœ°çƒ",
                    "AliasName": "earth"
                },
                {
                    "Title": "æ‹›å•†é“¶è¡Œ",
                    "AliasName": "cmb"
                }
            ]
        }
    ],
    "msg": ""
}
```  

### èŠ‚ç‚¹è¯¦æƒ…

è¯·æ±‚ï¼š
> /go  

å‚æ•°ï¼š
> node
> page   åˆ†é¡µ é»˜è®¤ä¸º1

ä¾‹å­ï¼š
> /go?node=shanghai&page=2


ç»“æœ:
```json
{
    "code": 200,
    "data": {
        "NodeImage": "//cdn.v2ex.com/navatar/6f49/22f4/18_xxlarge.png?m=1542418426",
        "NodeName": "ä¸Šæµ·",
        "TopicsCount": "1634",
        "Topics": [
            {
                "avatar": "//cdn.v2ex.com/gravatar/b279806db1b06506f55355c45a4301f9?s=48&d=retro",
                "title": "å¤§å®¶å¹³æ—¶ä¼šå»ä¸Šæµ·å‘¨è¾¹ä»€ä¹ˆåœ°æ–¹è‡ªé©¾æ¸¸å—ï¼Ÿ",
                "id": "549718",
                "node": "shanghai",
                "nodeId": "ä¸Šæµ·",
                "userName": "skunktalks",
                "replyCount": 3,
                "replyName": "Lawlieti",
                "replyTime": "4å°æ—¶30åˆ†é’Ÿå‰"
            }
        ]
    },
    "msg": ""
}
```

### ç”¨æˆ·è¯¦æƒ…

è¯·æ±‚ï¼š
> /user  

å‚æ•°ï¼š
> name

ä¾‹å­ï¼š
> /user?name=yfixx


ç»“æœ:
```json
{
    "code": 200,
    "data": {
        "Name": "yfixx",
        "Avatar": "//cdn.v2ex.com/gravatar/6138b0dbd40e3fc92a5321892282dd7a?s=73&d=retro",
        "JoinTime": "V2EX ç¬¬ 357200 å·ä¼šå‘˜ï¼ŒåŠ å…¥äº 2018-10-19 15:39:35 +08:00",
        "Activity": "2372"
    },
    "msg": ""
}
```

### ç”¨æˆ·å‘å¸ƒçš„ä¸»é¢˜  

è¯·æ±‚ï¼š
> /user/topics  

å‚æ•°ï¼š
> name

ä¾‹å­ï¼š
> /user/topics?name=yfixx


ç»“æœ:
```json
{
    "code": 200,
    "data": [
        {
            "avatar": "",
            "title": "æ­¤æ—¶çš„æˆ‘è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ",
            "id": "499872",
            "node": "èŒåœºè¯é¢˜",
            "nodeId": "career",
            "userName": "yfixx",
            "replyCount": 6,
            "replyName": "loryyang",
            "replyTime": "157å¤©å‰"
        }
    ],
    "msg": ""
}
```
### ç”¨æˆ·çš„å›å¤


è¯·æ±‚ï¼š
> /user/replies  

å‚æ•°ï¼š
> name

ä¾‹å­ï¼š
> /user/replies?name=yfixx


ç»“æœ:
```json
{
    "code": 200,
    "data": [
        {
            "TopicsTitle": "é—®é¢˜æ¥äº†ï¼Œç¨‹åºå‘˜ä»¬ä½ ä»¬ç”¨çš„æ˜¯å“ªç§ PDF é˜…è¯»å™¨ï¼Ÿ",
            "Node": "programmer",
            "TopicsUser": "yfixx",
            "TopicsId": "549362",
            "PostTime": "7 å°æ—¶ 30 åˆ†é’Ÿå‰",
            "ReplyContent": "@<a target=\"_blank\" href=\"/member/momo5269\" rel=\"nofollow\">momo5269</a> ç”¨è¿‡çš„çœŸå¤šå‘€"
        }
    ],
    "msg": ""
}
```
åŒæ ·ï¼Œå›å¤å†…å®¹åŒ…å«äº†HTMLæ ‡ç­¾ï¼Œæ–¹ä¾¿å±•ç¤ºã€‚
